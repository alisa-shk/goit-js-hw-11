{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImage(query) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const params = new URLSearchParams({\n        key: '44046646-50f8df335e976b654bc240f3a',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n    const url = `${BASE_URL}?${params}`;\n\n    return fetch(url).then(res => res.json());\n}","export function imageTemplate(image) {\n    return `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"\">\n            <img class=\"gallery-image\" width=\"360\" src=\"${image.largeImageURL}\" alt=\"${image.tags}\"/>\n            </a>\n            <ul class=\"captions\">\n            <li><strong>Likes</strong> ${image.likes}</li>\n            <li><strong>Views</strong> ${image.views}</li>\n            <li><strong>Comments</strong> ${image.comments}</li>\n            <li><strong>Downloads</strong> ${image.downloads}</li>\n            </ul>\n            </li>\n            `\n}\n    \n    \nexport function imagesTemplate(arr) {\n    return arr.map(imageTemplate).join('');\n}","import { searchImage } from './js/pixabay-api';\nimport { imagesTemplate } from './js/render-functions';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport Simplelightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\n\nform.addEventListener('submit', event => {\n    event.preventDefault();\n\n    const query = event.target.elements.query.value.trim();\n\n    if (!query) {\n        iziToast.info({\n            title: 'Note',\n            message: 'Please enter your search',\n        });\n        return;\n    }\n\n    gallery.innerHTML = \"\";\n    loader.style.display = \"block\";\n\n    searchImage(query)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            } else {\n                const markup = imagesTemplate(data.hits);\n                gallery.innerHTML = markup;\n                const lightbox = new Simplelightbox(\".gallery a\");\n                lightbox.refresh();\n            }\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message: 'Please try again later!',\n            });\n            console.log(error);\n        })\n        .finally(() => {\n            loader.style.display = \"none\";\n        });\n});\n"],"names":["searchImage","query","BASE_URL","params","url","res","imageTemplate","image","imagesTemplate","arr","form","gallery","loader","event","iziToast","data","markup","Simplelightbox","error"],"mappings":"wvBAAO,SAASA,EAAYC,EAAO,CAC/B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC5C,CCZO,SAASC,EAAcC,EAAO,CACjC,MAAO;AAAA;AAAA,0DAE+CA,EAAM,aAAa,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,yCAGxDA,EAAM,KAAK;AAAA,yCACXA,EAAM,KAAK;AAAA,4CACRA,EAAM,QAAQ;AAAA,6CACbA,EAAM,SAAS;AAAA;AAAA;AAAA,aAI5D,CAGO,SAASC,EAAeC,EAAK,CAChC,OAAOA,EAAI,IAAIH,CAAa,EAAE,KAAK,EAAE,CACzC,CCTA,MAAMI,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAG/CF,EAAK,iBAAiB,SAAUG,GAAS,CACrCA,EAAM,eAAc,EAEpB,MAAMZ,EAAQY,EAAM,OAAO,SAAS,MAAM,MAAM,OAEhD,GAAI,CAACZ,EAAO,CACRa,EAAS,KAAK,CACV,MAAO,OACP,QAAS,0BACrB,CAAS,EACD,MACH,CAEDH,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QAEvBZ,EAAYC,CAAK,EACZ,KAAKc,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACrBD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EAC7B,CAAiB,MACE,CACH,MAAME,EAASR,EAAeO,EAAK,IAAI,EACvCJ,EAAQ,UAAYK,EACH,IAAIC,EAAe,YAAY,EACvC,QAAO,CACnB,CACb,CAAS,EACA,MAAMC,GAAS,CACZJ,EAAS,MAAM,CACX,MAAO,QACP,QAAS,yBACzB,CAAa,EACD,QAAQ,IAAII,CAAK,CAC7B,CAAS,EACA,QAAQ,IAAM,CACXN,EAAO,MAAM,QAAU,MACnC,CAAS,CACT,CAAC"}